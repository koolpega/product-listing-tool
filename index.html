<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Listing Tool</title>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@6.26.0/babel.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
    body { font-family: 'Poppins', sans-serif; }
    h1, h2, h3 { font-family: 'Playfair Display', serif; }
  </style>
</head>
<body class="bg-gray-50">
  <div id="root"></div>
  <script type="text/babel">

const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  databaseURL: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: ""
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

    function Header() {
      return (
        <header className="bg-white shadow-sm fixed w-full z-10">
          <nav className="container mx-auto px-4 py-4 flex items-center">
            <div className="flex items-center space-x-4 flex-grow">
              <img src="logo.png" alt="deva Logo" className="h-10" />
              <h1 className="text-2xl font-bold text-gray-800">Product Listing Tool</h1>
            </div>
            <ul className="flex space-x-6 ml-auto">
              <li><a href="#home" className="text-gray-600 hover:text-gray-800">Home</a></li>
              <li><a href="#shop" className="text-gray-600 hover:text-gray-800">Shop</a></li>
              <li><a href="#about" className="text-gray-600 hover:text-gray-800">About</a></li>
              <li><a href="#contact" className="text-gray-600 hover:text-gray-800">Contact</a></li>
              <li><a href="#cart" className="text-gray-600 hover:text-gray-800">Cart</a></li>
            </ul>
          </nav>
        </header>
      );
    }

    function Hero() {
      return (
        <section id="home" className="min-h-screen flex items-center justify-center bg-cover bg-center" style={{ backgroundImage: "url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1920&q=80')" }}>
          <div className="text-center text-white bg-black bg-opacity-50 p-8 rounded-lg">
            <h2 className="text-5xl font-bold mb-4">koolpega</h2>
            <p className="text-xl mb-6">Product Listing Tool</p>
            <a href="#shop" className="inline-block bg-white text-gray-800 px-6 py-3 rounded-full hover:bg-gray-100 transition">Shop Now</a>
          </div>
        </section>
      );
    }

    function ProductCard({ name, price, image }) {
      function handleAddToCart() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.push({ name, price, image, quantity: 1 });
        localStorage.setItem('cart', JSON.stringify(cart));
        window.dispatchEvent(new Event("storage"));
        alert(`${name} added to cart.`);
      }

      return (
        <div className="bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition">
          <img src={image} alt={name} className="w-full h-64 object-cover"/>
          <div className="p-4">
            <h3 className="text-lg font-semibold text-gray-800">{name}</h3>
            <p className="text-gray-600">${price}</p>
            <button onClick={handleAddToCart} className="mt-4 bg-gray-800 text-white px-4 py-2 rounded-full hover:bg-gray-700 transition">Add to Cart</button>
          </div>
        </div>
      );
    }

    function Shop() {
  const [products, setProducts] = React.useState([]);

  React.useEffect(() => {
    const productsRef = db.ref("products");
    productsRef.on("value", (snapshot) => {
      const data = snapshot.val();
      if (data) {
        const loadedProducts = Object.values(data);
        setProducts(loadedProducts);
      } else {
        setProducts([]);
      }
    });

    return () => productsRef.off();
  }, []);

  return (
    <section id="shop" className="py-16 bg-gray-100">
      <div className="container mx-auto px-4">
        <h2 className="text-3xl font-bold text-center text-gray-800 mb-8">Available Products</h2>
        <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
          {products.map((product, index) => (
            <ProductCard
              key={index}
              name={product.name}
              price={product.price}
              image={product.image}
            />
          ))}
        </div>
      </div>
    </section>
  );
}

    function Cart() {
      const [cartItems, setCartItems] = React.useState(() => {
        return JSON.parse(localStorage.getItem("cart")) || [];
      });

      React.useEffect(() => {
        const syncCart = () => {
          const updatedCart = JSON.parse(localStorage.getItem("cart")) || [];
          setCartItems(updatedCart);
        };
        window.addEventListener("storage", syncCart);
        return () => window.removeEventListener("storage", syncCart);
      }, []);

      function removeFromCart(index) {
        const updatedCart = [...cartItems];
        updatedCart.splice(index, 1);
        setCartItems(updatedCart);
        localStorage.setItem("cart", JSON.stringify(updatedCart));
      }

      function updateQuantity(index, qty) {
        if (qty < 1) return;
        const updatedCart = [...cartItems];
        updatedCart[index].quantity = qty;
        setCartItems(updatedCart);
        localStorage.setItem("cart", JSON.stringify(updatedCart));
        window.dispatchEvent(new Event("storage"));
      }

      if (cartItems.length === 0) {
        return (
          <section id="cart" className="py-10 bg-white">
            <div className="container mx-auto px-4 text-center">
              <h2 className="text-2xl font-bold text-gray-800 mb-4">Your Cart</h2>
              <p className="text-gray-600">Your cart is empty.</p>
            </div>
          </section>
        );
      }

      return (
        <section id="cart" className="py-10 bg-white">
          <div className="container mx-auto px-4">
            <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">Your Cart</h2>
            <div className="space-y-4 max-h-96 overflow-y-auto pr-2">
              {cartItems.map((item, index) => (
                <div key={index} className="flex items-center justify-between bg-gray-100 p-4 rounded shadow">
                  <div className="flex items-center space-x-4">
                    <img src={item.image} alt={item.name} className="w-16 h-16 object-cover rounded" />
                    <div>
                      <h3 className="font-semibold text-gray-800">{item.name}</h3>
                      <p className="text-gray-600">${item.price}</p>
                      <input
                        type="number"
                        min="1"
                        value={item.quantity || 1}
                        onChange={(e) => updateQuantity(index, parseInt(e.target.value))}
                        className="mt-1 w-20 p-1 border rounded"
                      />
                    </div>
                  </div>
                  <button
                    onClick={() => removeFromCart(index)}
                    className="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
                  >
                    Remove
                  </button>
                </div>
              ))}
            </div>
          </div>
        </section>
      );
    }

    function About() {
      return (
        <section id="about" className="py-16 bg-white">
          <div className="container mx-auto px-4 text-center">
            <h2 className="text-3xl font-bold text-gray-800 mb-4">About Product Listing Tool</h2>
            <p className="text-gray-600 max-w-2xl mx-auto">
              At Product Listing Tool, we are dedicated to providing a seamless experience for managing and showcasing your products. Our platform is designed to help businesses of all sizes create beautiful product listings that attract customers and drive sales. With an intuitive interface and powerful features, we make it easy to upload, organize, and display your products online. Whether you're a small boutique or a large retailer, Product Listing Tool is here to support your growth and success.
            </p>
          </div>
        </section>
      );
    }

    function Footer() {
      return (
        <footer id="contact" className="bg-gray-800 text-white py-8">
          <div className="container mx-auto px-4 text-center">
            <h3 className="text-xl font-bold mb-4">Contact Us</h3>
            <p className="mb-2">Email: admin@deaddos.online</p>
            <p className="mb-2">Phone: (123) 0696969</p>
            <p>Address: 123 Nigga St, Diddy City</p>
            <div className="mt-4 flex justify-center space-x-4">
              <a href="#" className="text-gray-400 hover:text-white">Instagram</a>
              <a href="#" className="text-gray-400 hover:text-white">Facebook</a>
              <a href="#" className="text-gray-400 hover:text-white">Twitter</a>
            </div>
          </div>
        </footer>
      );
    }

    function App() {
      return (
        <div>
          <Header />
          <Hero />
          <Shop />
          <Cart />
          <About />
          <Footer />
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
